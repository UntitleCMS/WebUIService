<div
  class="expandable-navigation-bar"
  [ngClass]="isExpanded ? 'nav-expand' : 'nav-collapse'"
>
  <div class="flex flex-col gap-4">
    <app-brand [isExpanded]="isExpanded"></app-brand>
    <div class="p-4 flex flex-col gap-4">
      <app-nav-link
        [link]="['/']"
        [icon]="'home'"
        [name]="'หน้าหลัก'"
        [isExpanded]="isExpanded"
      ></app-nav-link>
      <app-nav-link
        *ngIf="isLoggedIn"
        [link]="['/', 'following']"
        [icon]="'newspaper'"
        [name]="'กำลังติดตาม'"
        [isExpanded]="isExpanded"
      ></app-nav-link>
      <app-nav-link
        [link]="['/', 'search']"
        [icon]="'search'"
        [name]="'ค้นหา'"
        [isExpanded]="isExpanded"
      ></app-nav-link>
      <ng-container *ngIf="isLoggedIn">
        <hr />
        <app-nav-link
          [link]="['/', 'write']"
          [icon]="'edit'"
          [name]="'เขียนโพสต์'"
          [isExpanded]="isExpanded"
        ></app-nav-link>
        <app-nav-link
          [link]="['/', 'my-posts']"
          [icon]="'article'"
          [name]="'โพสต์ของฉัน'"
          [isExpanded]="isExpanded"
        ></app-nav-link>
        <app-nav-link
          [link]="['/', 'bookmark']"
          [icon]="'bookmark'"
          [name]="'บุ๊กมาร์กของฉัน'"
          [isExpanded]="isExpanded"
        ></app-nav-link>
        <app-nav-link
          [link]="['/', 'profile', 'me']"
          [icon]="'person'"
          [name]="'โปรไฟล์ของฉัน'"
          [isExpanded]="isExpanded"
        ></app-nav-link>
      </ng-container>
      <hr />
      <ng-container *ngIf="isLoggedIn; else LoginButton">
        <app-logout-button [isExpanded]="isExpanded"></app-logout-button>
      </ng-container>
    </div>
  </div>

  <div class="flex flex-col gap-2">
    <app-expand-button
      [isExpanded]="isExpanded"
      (expandChange)="toggleExpand()"
    ></app-expand-button>
    <app-user-panel *ngIf="isLoggedIn"></app-user-panel>
  </div>
</div>

<ng-template #LoginButton>
  <app-login-button [isExpanded]="isExpanded"></app-login-button>
</ng-template>
